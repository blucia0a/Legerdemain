#include <stdio.h>
#include <signal.h>
#include "drprobe.h"

void handleTrap(int signum){
  fprintf(stderr,"TRAP\n");
  return;
}

void __attribute__ ((constructor)) watch_addr_thd_ctr_init();
void watch_addr_thd_ctr_init(){

  drp_init();
  drp_enable(0,DRP_HOW_RDWR);
  signal( SIGTRAP, handleTrap );


}

void init_thread(void *targ, void*(*thdrtn)(void*)){

  drp_watch(0x2222760,0);

}
